---
title:  "[Unity] ìœ ë‹ˆí‹°ì—ì„œ VR/AR/XR ë¹Œë“œí•˜ê¸°"
excerpt: VR/AR/XR in Unity

categories:
  - Unity
tags:
  - [Unity, VR, AR, XR, ê°€ìƒ í˜„ì‹¤, ì¦ê°• í˜„ì‹¤, ìœ ë‹ˆí‹°]

toc: true
toc_sticky: true
 
date: 2024-12-12
last_modified_at: 2024-12-12
---

## ê°œìš”
---
XR(eXtended Reality)ì€ **VR(ê°€ìƒ í˜„ì‹¤), AR(ì¦ê°• í˜„ì‹¤), MR(í˜¼í•© í˜„ì‹¤)**ì„ í¬í•¨í•˜ëŠ” ê°œë…ìœ¼ë¡œ, Unityì—ì„œëŠ” XR Plugin Management ì‹œìŠ¤í…œì„ í™œìš©í•˜ì—¬ ë‹¤ì–‘í•œ í”Œë«í¼ì„ ì§€ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* VR (Virtual Reality, ê°€ìƒ í˜„ì‹¤): ì‚¬ìš©ìê°€ ì™„ì „íˆ ê°€ìƒ í™˜ê²½ì— ëª°ì…í•˜ëŠ” ê¸°ìˆ  (ì˜ˆ: Oculus, HTC Vive)
* AR (Augmented Reality, ì¦ê°• í˜„ì‹¤): ì‹¤ì œ í™˜ê²½ ìœ„ì— ê°€ìƒ ìš”ì†Œë¥¼ ê²¹ì³ í‘œì‹œí•˜ëŠ” ê¸°ìˆ  (ì˜ˆ: ARCore, ARKit)
* MR (Mixed Reality, í˜¼í•© í˜„ì‹¤): ì‹¤ì œ í™˜ê²½ê³¼ ê°€ìƒ í™˜ê²½ì´ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê¸°ìˆ  (ì˜ˆ: HoloLens)
<br><br>

![Image](https://github.com/user-attachments/assets/fa4cf017-884b-4420-81bc-d7aaa9e4b659)<br>
(ì¶œì²˜ : Interaction Design Foundation)<br><br>

### Unity XR ê°œë°œ í™˜ê²½ ì„¤ì •
---
1. Unity ë²„ì „ ì„ íƒ: VR/AR ê°œë°œì„ ìœ„í•´ **Unity 2021 ì´ìƒ** ë²„ì „ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
2. XR Plugin Management ì„¤ì¹˜
   * Window â†’ Package Manager â†’ XR Plugin Management ê²€ìƒ‰ í›„ ì„¤ì¹˜
3. í”Œë«í¼ë³„ XR í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
   * Oculus VR: Oculus XR Plugin
   * OpenXR: OpenXR Plugin (HTC Vive, Windows MR ë“± ì§€ì›)
   * AR: ARCore (Android), ARKit (iOS)

<br>

![Image](https://github.com/user-attachments/assets/d7fc52ba-1806-49f2-b72b-d2c5a41a3cfe)<br>
(ì¶œì²˜ : https://docs.unity3d.com/kr/2022.3/Manual/xr-plugin-management.html)<br><br>

### VR ë¹Œë“œ ì„¤ì • (Oculus/OpenXR ê¸°ì¤€)
---
1. í”„ë¡œì íŠ¸ ì„¤ì •
   1. ```Edit``` â†’ ```Project Settings``` â†’ ```XR Plugin Management``` â†’ Oculus/OpenXR í™œì„±í™”
   2. ```Edit``` â†’ ```Project Settings``` â†’ ```Player``` ì„¤ì •ì—ì„œ XR ì§€ì› ì˜µì…˜ ì²´í¬
2. XR Interaction Toolkit ì¶”ê°€<br>
VR ì»¨íŠ¸ë¡¤ëŸ¬ ë° ìƒí˜¸ì‘ìš©ì„ ìœ„í•´ XR Interaction Toolkitì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.
   1. ```Window``` â†’ ```Package Manager``` â†’ ```XR Interaction Toolkit``` ì„¤ì¹˜
   2. ```GameObject``` â†’ ```XR``` â†’ ```XR Rig``` ì¶”ê°€
3. ì»¨íŠ¸ë¡¤ëŸ¬ ì…ë ¥ ì„¤ì •
   * XR Controller ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
   * Input Action ì„¤ì • (```Input System``` íŒ¨í‚¤ì§€ ì‚¬ìš©)
   * Oculus, OpenXR ë“± ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì—°ê²°

<br>

### AR ë¹Œë“œ ì„¤ì • (ARCore/ARKit ê¸°ì¤€)
---
1. AR ì§€ì› ì„¤ì •
   1. Edit â†’ Project Settings â†’ XR Plugin Management â†’ ARCore/ARKit í™œì„±í™”
   2. Player ì„¤ì •ì—ì„œ AR ì§€ì› ì˜µì…˜ ì²´í¬
2. AR Camera ë° Plane Detection ì¶”ê°€
   1. GameObject â†’ XR â†’ AR Session ì¶”ê°€
   2. GameObject â†’ XR â†’ AR Camera ì¶”ê°€
   3. GameObject â†’ XR â†’ AR Plane Manager ì¶”ê°€
3. AR ì¸í„°ë™ì…˜ êµ¬í˜„
   * AR Raycastë¥¼ ì‚¬ìš©í•˜ì—¬ í„°ì¹˜í•œ ìœ„ì¹˜ì— ê°€ìƒ ì˜¤ë¸Œì íŠ¸ ë°°ì¹˜
   * AR Anchorë¥¼ í™œìš©í•˜ì—¬ ê°€ìƒ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‹¤ì œ ê³µê°„ì— ê³ ì •

<br>

![Image](https://github.com/user-attachments/assets/9a44328f-681d-4708-a8fd-e1bd554f3402)<br>
(ì¶œì²˜ : https://learn.unity.com/tutorial/setting-up-ar-foundation#)<br><br>

### XR ë¹Œë“œ ë° ì‹¤í–‰
---
#### VR ë¹Œë“œ (Oculus Quest 2 ì˜ˆì‹œ)
1. í”Œë«í¼ ë³€ê²½: File â†’ Build Settings â†’ Android ì„ íƒ í›„ Switch Platform
2. Oculus ì„¤ì •: XR Plugin Management â†’ Oculus í™œì„±í™”
3. ë¹Œë“œ: Build And Run (Oculus ê¸°ê¸°ì— APK ì„¤ì¹˜)

#### AR ë¹Œë“œ (Android ARCore ì˜ˆì‹œ)
1. File â†’ Build Settings â†’ Android ì„ íƒ í›„ Switch Platform
2. XR Plugin Managementì—ì„œ ARCore í™œì„±í™”
3. Player Settingsì—ì„œ Camera Usage Description ì…ë ¥
4. ë¹Œë“œ & ì‹¤í–‰: Build And Run

<br><br>

### ì˜ˆì œ ì½”ë“œ (VR & AR ì˜¤ë¸Œì íŠ¸ ë°°ì¹˜)
---

ğŸ”¹ VR ì»¨íŠ¸ë¡¤ëŸ¬ ì…ë ¥ì„ ë°›ì•„ ì˜¤ë¸Œì íŠ¸ ìƒì„±
```c#
using UnityEngine;
using UnityEngine.XR.Interaction.Toolkit;

public class VRObjectSpawner : MonoBehaviour
{
    public GameObject prefab; // ìƒì„±í•  ì˜¤ë¸Œì íŠ¸
    public XRController controller; // VR ì»¨íŠ¸ë¡¤ëŸ¬

    void Update()
    {
        if (controller.inputDevice.TryGetFeatureValue(UnityEngine.XR.CommonUsages.triggerButton, out bool isPressed) && isPressed)
        {
            Instantiate(prefab, transform.position + transform.forward * 2, Quaternion.identity);
        }
    }
}

```
<br>

ğŸ”¹ AR í„°ì¹˜ ì…ë ¥ì„ ë°›ì•„ ì˜¤ë¸Œì íŠ¸ ìƒì„±
```c#
using UnityEngine;
using UnityEngine.XR.ARFoundation;
using UnityEngine.XR.ARSubsystems;

public class ARObjectSpawner : MonoBehaviour
{
    public GameObject prefab;
    private ARRaycastManager raycastManager;
    private List<ARRaycastHit> hits = new List<ARRaycastHit>();

    void Start()
    {
        raycastManager = GetComponent<ARRaycastManager>();
    }

    void Update()
    {
        if (Input.touchCount > 0 && Input.GetTouch(0).phase == TouchPhase.Began)
        {
            if (raycastManager.Raycast(Input.GetTouch(0).position, hits, TrackableType.PlaneWithinPolygon))
            {
                Instantiate(prefab, hits[0].pose.position, Quaternion.identity);
            }
        }
    }
}

```
<br>

### ì •ë¦¬
---
* Unityì—ì„œ XR ê°œë°œì„ ìœ„í•´ XR Plugin Managementë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.
* VRì€ XR Interaction Toolkitì„ ì‚¬ìš©í•˜ì—¬ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* ARì€ AR Foundationì„ í™œìš©í•˜ì—¬ í„°ì¹˜ ê¸°ë°˜ ìƒí˜¸ì‘ìš©ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* í”„ë¡œì íŠ¸ ëª©í‘œì— ë§ê²Œ VR/AR/XR ë¹Œë“œ ì„¤ì •ì„ ìµœì í™”í•´ì•¼ í•©ë‹ˆë‹¤.
<br><br>

[Top](#){: .btn .btn--primary }{: .align-right}